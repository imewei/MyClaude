# Morning Review Workflow - Complete Automation Guide

**Created:** 2025-10-20
**Status:** Ready for production use

## Overview

Complete automated workflow for reviewing overnight plugin enhancements and preparing v1.2.0 release.

## How It Works

### 1. Overnight Batch Processing (Automatic)

```bash
# Currently running (started earlier):
python3 -u scripts/overnight-plugin-enhancer.py

# Progress: 198/235 plugins (84%)
# Expected completion: 1:25-1:30 AM
# Success rate: 100%
```

### 2. Auto-Trigger Post-Batch Automation (Optional)

If you want the morning report to be generated automatically when the batch completes:

```bash
# Start the watcher (in tmux or background):
./scripts/auto-trigger-post-batch.sh

# This will:
# - Monitor overnight-enhancement-all-plugins.log
# - Detect "BATCH COMPLETE" marker
# - Automatically run post-batch-automation.sh
# - Generate MORNING-REVIEW-REPORT-{timestamp}.md
```

### 3. Manual Trigger (Alternative)

If you prefer to run verification manually in the morning:

```bash
# Run post-batch automation:
./scripts/post-batch-automation.sh

# This generates:
# - MORNING-REVIEW-REPORT-{timestamp}.md (single file with everything)
# - scripts/pre-commit-verify.sh (validates staged files)
```

### 4. Morning Review Process

**Open the generated report:**
```bash
# Find the latest report:
ls -lt MORNING-REVIEW-REPORT-*.md | head -1

# Review it:
cat MORNING-REVIEW-REPORT-{timestamp}.md
```

**The report contains:**
1. ✅/❌ Overall status (READY or NOT READY for release)
2. Database verification results
3. SKILL.md file quality metrics
4. Frontmatter validation
5. Backup verification
6. Git status check
7. Pre-generated changelog entry
8. Complete step-by-step checklist

**If status is ✅ READY FOR RELEASE:**

Follow the checklist in the report exactly. It includes:

1. Spot check random samples (manual quality verification)
2. Update version to 1.2.0 in all files
3. Sync marketplace catalogs
4. Run pre-commit verification
5. Git commit + tag
6. Push to GitHub
7. Create GitHub release
8. Deploy marketplace website
9. Run Turso backup

**If status is ❌ NOT READY:**

The report will show specific failures. Fix them before proceeding.

## File Locations

```
claude-code-plugins/
├── overnight-enhancement-all-plugins.log    # Batch processing log
├── backups/plugin-enhancements/
│   ├── enhancements.db                      # SQLite audit trail
│   └── plugin-backups/                      # Individual plugin backups
├── scripts/
│   ├── overnight-plugin-enhancer.py         # Main batch processor
│   ├── verify-enhancements.sh               # Verification script
│   ├── post-batch-automation.sh             # Morning automation
│   ├── auto-trigger-post-batch.sh           # Auto-trigger watcher
│   └── pre-commit-verify.sh                 # (Generated by automation)
└── MORNING-REVIEW-REPORT-{timestamp}.md     # (Generated by automation)
```

## Quick Status Check

```bash
# Check batch progress:
tail -20 overnight-enhancement-all-plugins.log

# Check database stats:
sqlite3 backups/plugin-enhancements/enhancements.db \
  "SELECT status, COUNT(*) FROM enhancements GROUP BY status;"

# Count SKILL.md files:
find plugins/ -path "*/skills/skill-adapter/SKILL.md" | wc -l
```

## Expected Timeline

| Time | Event |
|------|-------|
| 11:30 PM | Batch at 198/235 (84%) |
| 1:25-1:30 AM | Batch completion expected |
| 1:30 AM | Auto-trigger runs (if enabled) |
| 1:30-1:35 AM | MORNING-REVIEW-REPORT generated |
| Morning | Manual review and release |

## Safety Features

1. **100% Success Validation**: Report blocks release if ANY verification fails
2. **Automatic Backups**: Every plugin backed up before modification
3. **SQLite Audit Trail**: Complete record of all operations
4. **Pre-commit Verification**: Final check before git commit
5. **Idempotent Operations**: Safe to re-run at any time

## Troubleshooting

**If batch is still running in the morning:**

```bash
# Check progress:
tail -f overnight-enhancement-all-plugins.log

# Check database:
sqlite3 backups/plugin-enhancements/enhancements.db \
  "SELECT COUNT(*) FROM enhancements WHERE status = 'success';"

# Wait for completion or manually stop:
# (Don't stop unless necessary - progress will be lost)
```

**If auto-trigger didn't run:**

```bash
# Manually run post-batch automation:
./scripts/post-batch-automation.sh
```

**If verification fails:**

1. Check the specific failure in the report
2. Review the failed plugin(s)
3. Fix the issue
4. Re-run verification:
   ```bash
   ./scripts/verify-enhancements.sh
   ```

## Next Steps After Review

Once you've completed the morning checklist and release is pushed:

1. **Post to X/Twitter**: Content saved in `/home/jeremy/000-projects/blog/x-threads/2025-10-20-scaling-ai-batch-processing-both-x3.txt`
2. **Monitor deployment**: Check marketplace at https://claudecodeplugins.io/
3. **Verify release**: Test plugin installation with updated skills
4. **Turso backup**: Run final backup for disaster recovery

---

**Last Updated:** 2025-10-20 (Created during overnight batch)
**Status:** ✅ All automation scripts ready and executable
